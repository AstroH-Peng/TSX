#!/usr/bin/env python
# -*- coding: utf-8 -*-
#N

import numpy as np
import scipy as sp
from mpl_toolkits.mplot3d import Axes3D
from matplotlib import pyplot

import PyKEP as pk

class Output:
    """Class exportating the Reference Trajectory.

    """
    #def __init__():
	#"""Constructor of class Output."""
	#pass
    def export_traj(self, output_file, trajectory, body):
	"""Exporting the trajectory of the spacecraft by specified file."""
	def tab_write(value):
    		output_file.write('%s\t' % value)

	for value in trajectory:
        	time = value[0]
        	pos = value[1:4]
       		tab_write(pk.epoch(time).mjd)
        	tab_write(pos[0]/1000.)  # the position of the CubeSat along the X axis (in km)
        	tab_write(pos[1]/1000.)
        	tab_write(pos[2]/1000.)
        	tab_write(value[4])      # the velocity of the CubeSat along the X axis (in m/s)
        	tab_write(value[5])
        	tab_write(value[6])
        	tab_write(np.linalg.norm(pos)/1000.)  # the radii of the CubeSat from the Sun (in km)
        	tab_write(np.linalg.norm(body.relative_position(pos, time))/1000.)  # the radii of the CubeSat from the Earth (in km)
        	tab_write(np.linalg.norm(body.eph(time))/1000.) 			 # the radii of Earth from the Sun (in km)       
        	output_file.write('\n')

